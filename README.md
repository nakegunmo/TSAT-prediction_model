"# TransformerによるBTC価格パターン検出モデル\n\n"
"このリポジトリは、Bitcoin（BTC）の5分足時系列データを用いて、極小値・極大値・その他の3クラス分類および\n"
"次時点の価格変動比率の回帰予測を同時に行うTransformerベースのモデルを実装しています。\n\n"
"## 特徴\n"
"- ソフトラベルによる分類（KLDiv） + 回帰（MSE）\n"
"- 時系列データに対するTransformerエンコーダ\n"
"- 自動可視化と統計的評価（シグナル後の変動など）\n"
"- 評価指標（混同行列、AUC、F1など）を搭載\n\n"
"## ディレクトリ構成（例）\n"
"- data/ : 入力CSVファイル（Train/Valid）\n"
"- evaluation_results/ : 評価出力先\n"
"- transformer_model.py : モデル定義\n"
"- utils.py : 補助関数\n"
"- main.ipynb または main.py : 実行パイプライン\n\n"
"## タスク概要\n"
"- 分類: 0=Other, 1=Min, 2=Max （学習にはsoft labelのみ使用）\n"
"- 回帰: 次の終値比率 close(t+1)/close(t)\n\n"
"## ラベリング\n"
"- ソフトラベル: softmax([1.5 - max(smin, smax), smin, smax]) による3クラス確率\n"
"- ハードラベル: 前後k=6のルールに基づく極値検出（評価時のみ使用）\n\n"
"## モデル構成\n"
"- 入力: 過去288ステップの4特徴量（正規化: close, high, low, volume）\n"
"- モデル: Linear → PositionalEncoding → TransformerEncoder\n"
"- 出力: 3クラス分類（softmax）+ 回帰値（1スカラー）\n\n"
"## 評価出力\n"
"- confusion matrix\n"
"- ROC/PR AUC\n"
"- softラベルスコアと将来変動の統計\n"
"- シグナルごとの価格変動方向（上昇/下降/横ばい）\n\n"
"## 実行手順\n"
"1. ライブラリをインストール\n"
"2. data/ にCSVを配置（BTC_full_5min_Train.csv, BTC_full_5min_Valid.csv）\n"
"3. main.ipynb または main.py を実行\n"
"4. evaluation_results/ に評価結果が保存されます\n\n"
"## 出力ファイル例\n"
"- best_transformer_model.pth : 最良モデルの重み\n"
"- validation_metrics_epXXX.txt : 分類評価結果\n"
"- validation_future_returns_epXXX.csv : 将来価格統計\n"
"- test_independent_eval_XXX.txt, .csv : テスト評価結果\n\n"
"## 必須環境\n"
"- Python 3.8+\n"
"- PyTorch 1.10+\n"
"- NumPy, pandas, matplotlib, scikit-learn, tqdm\n\n"
"## 応用例\n"
"- 株式や為替など他の金融時系列への応用\n"
"- トレーディングシグナルの定量評価\n"
"- 異常検知・価格反転検出などへの応用\n\n"
"## お問い合わせ\n"
"ご質問・ご提案・プルリクエストなど歓迎します！"
